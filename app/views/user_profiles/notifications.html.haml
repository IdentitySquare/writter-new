.flex.flex-col.mx-auto.max-w-3xl.mt-10.px-5
  
  = render 'settings_header'
  .flex.flex-col.gap-3{"data-controller": "toggle"}


    = form_for(current_user, url: user_profile_path(current_user), method: :put, html: { class: 'space-y-6 inline', "data-toggle-target": 'form'}) do |f|
      %div
        

        .flex.flex-row.py-2.justify-between
          .flex-flex-col
            %label.block.text-md.font-bold.text-gray-900 Email Notifications
            .text-gray-700
              Be alerted by email if you are away from Writter.
          .mt-1
            %label.relative.inline-flex.items-center.cursor-pointer
              = f.check_box :notifications, checked: current_user.notifications, class: "sr-only peer","data-action": "change->toggle#disableFields click->toggle#submitForm" 
              .w-11.h-6.bg-gray-200.peer-focus:outline-none.peer-focus:ring-green-800.dark:peer-focus:ring-green-800.rounded-full.peer.dark:bg-gray-700.peer-checked:after:translate-x-full.peer-checked:after:border-white.after:absolute.after:bg-white.after:border-gray-300.after:border.after:rounded-full.after:h-5.after:w-5.after:transition-all.dark:border-gray-600.peer-checked:bg-green-800{class: "after:content-[''] after:top-[2px] after:left-[2px]", "data-toggle-target": 'toggle'}

      
      %div
        %label.block.text-md.font-bold.text-gray-900 Notifications about your account
        .mt-1

          = f.collection_radio_buttons :notifications_freq, User.notifications_freqs, :second, :first , checked: current_user.notifications_freq_before_type_cast do |b| 
            .flex.flex-row.py-2.justify-between
              = b.label class: 'capitalize text-gray-700'       
              = b.radio_button class: 'h-6 w-6 border-gray-300 text-green-800' , "data-action": "change->toggle#submitForm" 

      %div
        %label.block.text-md.font-bold.text-gray-900 When someone you follow publishes a new article
        .mt-1

          = f.collection_radio_buttons :new_article_notifications_freq, User.new_article_notifications_freqs, :second, :first, checked: current_user.new_article_notifications_freq_before_type_cast do |b| 
            .flex.flex-row.py-2.justify-between
              
              
              = b.label class: 'capitalize text-gray-700'       
              = b.radio_button class: 'h-6 w-6 border-gray-300 text-green-800' , "data-action": "change->toggle#submitForm" 


      %div
        %label.block.text-md.font-bold.text-gray-900 Updates about the performance of your posts
        .mt-1

          = f.collection_radio_buttons :performance_notifications_freq, User.performance_notifications_freqs, :second, :first, checked: current_user.performance_notifications_freq_before_type_cast ,  "data-action": "change->toggle#submitForm"  do |b| 
            .flex.flex-row.py-2.justify-between
              = b.label class: 'capitalize text-gray-700' 
              = b.radio_button class: 'h-6 w-6 border-gray-300 text-green-800'  ,  "data-action": "change->toggle#submitForm"
      
      %div
        .flex.flex-row.py-2.justify-between
          %label.block.text-md.font-bold.text-gray-900 Be alerted when new product and feature updates are released
          .mt-1
            = f.check_box :product_notifications, class: 'h-4 w-4 rounded border-gray-300 text-emerald-800  focus:ring-green-800{name: "product-notifications", type: "checkbox"}', "data-action": "change->toggle#submitForm" 

      %div
        = f.submit "Update Values", class: 'hidden {type: "submit"}'
        

