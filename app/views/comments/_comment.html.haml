.div{id: "comment_#{comment.id}"}
  .flex.flex-col.items-start.mb-4.gap-5.py-5.pr-3{'data-controller': 'dropdown'}
    .flex.flex-row.gap-2.items-center.w-full
      
      = link_to user_profile_path(username: comment.user.username) do
        %span.inline-block.h-10.w-10.overflow-hidden.rounded-full.bg-gray-100
          %svg.h-full.w-full.text-gray-300{:fill => "currentColor", :viewbox => "0 0 24 24"}
            %path{:d => "M24
            20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"}
      .text-gray-700.text-sm.font-medium= comment.user.name

      %span.text-xs.uppercase.text-gray-500 #{comment.created_at.strftime('%d %b %Y')}


      - if policy(comment).destroy?
        .flex.flex-shrink-0.self-center.ml-auto
          .relative.inline-block.text-left

            %button#menu-0-button.-m-2.flex.items-center.rounded-full.p-2.text-gray-400.hover:text-gray-600{"aria-expanded" => "false", "aria-haspopup" => "true", :type => "button",'data-action': 'click->dropdown#toggleDropdown'}
              %span.sr-only Open options
              / Heroicon name: mini/ellipsis-horizontal
              %svg.h-5.w-8{"aria-hidden" => "true", :fill => "currentColor", :viewbox => "0 0 20 20", :xmlns => "http://www.w3.org/2000/svg"}
                %path{:d => "M4 8.5a2 2 0 114 0 2 2 0 01-4 0zm8 0a2 2 0 114 0 2 2 0 01-4 0zm8 0a2 2 0 114 0 2 2 0 01-4 0z"}


            .hidden.absolute.right-0.z-10.mt-2.origin-top-right.rounded-md.bg-white.ring-1.ring-black.ring-opacity-5.focus:outline-none{"aria-labelledby" => "menu-0-button", "aria-orientation" => "vertical", :role => "menu", :tabindex => "-1",'data-dropdown-target': 'dropdown'}
             
            
              = button_to comment_path(comment), method: :delete, class: 'text-gray-700 flex px-4 py-2 text-sm hover:bg-gray-100', role: 'menuitem', tabindex: '-1', onclick: "return confirm('Are you sure you want to delete this comment?');" do
                %svg.feather.feather-edit-2.mr-2.self-center{ fill: 'none', height: '16', stroke: 'currentColor', 'stroke-linecap': 'round', 'stroke-linejoin': 'round', 'stroke-width': '2', viewbox: '0 0 24 24', width: '20', xmlns: 'http://www.w3.org/2000/svg' }
                  %polyline{ points: '3 6 5 6 21 6' }
                  %path{ d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2' }
                  %line{ x1: '10', x2: '10', y1: '11', y2: '17' }
                  %line{ x1: '14', x2: '14', y1: '11', y2: '17' }

                %span Delete

    %p.text-gray-500.text-sm.mb-2= comment.body

              

  %hr.border-t.border-gray-200.mt-5

            



